import{_ as g,c as i,a as u,b as s,h as m,t as o,g as n,F as v,r as l,o as r,i as b}from"./index.b47f3273.js";const f={data(){return{isLoading:!1,product:{},id:""}},methods:{getProduct(){const c=`https://vue3-course-api.hexschool.io/v2//api/hexschoolvue/product/${this.id}`;this.isLoading=!0,this.$http.get(c).then(e=>{e.data.success&&(this.product=e.data.product),this.isLoading=!1})},addToCart(c,e=1){const d="https://vue3-course-api.hexschool.io/v2//api/hexschoolvue/cart",a={product_id:c,qty:e};this.isLoading=!0,this.$http.post(d,{data:a}).then(t=>{this.isLoading=!1,this.$httpMessageState(t,"\u52A0\u5165\u8CFC\u7269\u8ECA"),this.$router.push("/user/cart")}).catch(t=>{this.isLoading=!1,this.$httpMessageState(t.response,"\u52A0\u5165\u8CFC\u7269\u8ECA")})}},created(){this.id=this.$route.params.productId,this.getProduct()}},x={class:"container"},L={"aria-label":"breadcrumb"},k={class:"breadcrumb"},y={class:"breadcrumb-item"},C=b("\u8CFC\u7269\u8ECA"),N={class:"breadcrumb-item active","aria-current":"page"},V={class:"row justify-content-center"},B={class:"col-8"},P=["src"],S={class:"col-4"},T={key:0,class:"h5"},w={key:1,class:"h6"},F={key:2,class:"h5"},M=s("hr",null,null,-1);function U(c,e,d,a,t,h){const p=l("Loading"),_=l("router-link");return r(),i(v,null,[u(p,{active:t.isLoading,"z-index":1060},null,8,["active"]),s("div",x,[s("nav",L,[s("ol",k,[s("li",y,[u(_,{to:"/user/cart"},{default:m(()=>[C]),_:1})]),s("li",N,o(t.product.title),1)])]),s("div",V,[s("article",B,[s("h2",null,o(t.product.title),1),s("div",null,o(t.product.content),1),s("div",null,o(t.product.description),1),s("img",{src:t.product.imageUrl,class:"img-fluid mb-3"},null,8,P)]),s("div",S,[t.product.price?n("",!0):(r(),i("div",T,o(t.product.origin_price)+" \u5143",1)),t.product.price?(r(),i("del",w,"\u539F\u50F9 "+o(t.product.origin_price)+" \u5143",1)):n("",!0),t.product.price?(r(),i("div",F,"\u73FE\u5728\u53EA\u8981 "+o(t.product.price)+" \u5143",1)):n("",!0),M,s("button",{type:"button",class:"btn btn-outline-danger",onClick:e[0]||(e[0]=$=>h.addToCart(t.product.id))}," \u52A0\u5230\u8CFC\u7269\u8ECA ")])])])],64)}const z=g(f,[["render",U]]);export{z as default};
